{
  "version": "1.0.0",
  "platformVersion": "15.0.0",
  "name": "HitV2",
  "description": "Bookmark management and discovery platform",
  "homepage": "https://hitv2.app",
  "authentication": {
    "type": "custom",
    "fields": [
      {
        "key": "api_key",
        "label": "API Key",
        "required": true,
        "type": "string",
        "helpText": "Get your API key from https://hitv2.app/dashboard/developer"
      },
      {
        "key": "secret_key",
        "label": "Secret Key",
        "required": true,
        "type": "password",
        "helpText": "The secret key that was provided when you created your API key"
      }
    ],
    "test": {
      "url": "https://hitv2.app/api/v1/user",
      "method": "GET",
      "headers": {
        "Authorization": "Bearer {{bundle.authData.api_key}}:{{bundle.authData.secret_key}}"
      }
    }
  },
  "triggers": {
    "new_bookmark": {
      "key": "new_bookmark",
      "noun": "Bookmark",
      "display": {
        "label": "New Bookmark",
        "description": "Triggers when a new bookmark is created.",
        "important": true
      },
      "operation": {
        "type": "hook",
        "perform": {
          "url": "https://hitv2.app/api/zapier/triggers/new-bookmark",
          "method": "GET",
          "headers": {
            "Authorization": "Bearer {{bundle.authData.api_key}}:{{bundle.authData.secret_key}}"
          }
        },
        "performSubscribe": {
          "url": "https://hitv2.app/api/zapier/triggers/new-bookmark",
          "method": "POST",
          "headers": {
            "Authorization": "Bearer {{bundle.authData.api_key}}:{{bundle.authData.secret_key}}",
            "Content-Type": "application/json"
          },
          "body": {
            "target_url": "{{bundle.targetUrl}}"
          }
        },
        "performUnsubscribe": {
          "url": "https://hitv2.app/api/zapier/triggers/new-bookmark?id={{bundle.subscribeData.id}}",
          "method": "DELETE",
          "headers": {
            "Authorization": "Bearer {{bundle.authData.api_key}}:{{bundle.authData.secret_key}}"
          }
        },
        "sample": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "url": "https://example.com",
          "title": "Example Website",
          "description": "An example bookmark",
          "tags": ["example", "test"],
          "is_public": false,
          "created_at": "2025-01-01T00:00:00Z",
          "updated_at": "2025-01-01T00:00:00Z"
        }
      }
    },
    "new_collection": {
      "key": "new_collection",
      "noun": "Collection",
      "display": {
        "label": "New Collection",
        "description": "Triggers when a new collection is created."
      },
      "operation": {
        "type": "polling",
        "perform": {
          "url": "https://hitv2.app/api/zapier/triggers/new-collection",
          "method": "GET",
          "headers": {
            "Authorization": "Bearer {{bundle.authData.api_key}}:{{bundle.authData.secret_key}}"
          }
        }
      }
    }
  },
  "actions": {
    "create_bookmark": {
      "key": "create_bookmark",
      "noun": "Bookmark",
      "display": {
        "label": "Create Bookmark",
        "description": "Creates a new bookmark in HitV2.",
        "important": true
      },
      "operation": {
        "perform": {
          "url": "https://hitv2.app/api/zapier/actions/create-bookmark",
          "method": "POST",
          "headers": {
            "Authorization": "Bearer {{bundle.authData.api_key}}:{{bundle.authData.secret_key}}",
            "Content-Type": "application/json"
          },
          "body": {
            "url": "{{bundle.inputData.url}}",
            "title": "{{bundle.inputData.title}}",
            "description": "{{bundle.inputData.description}}",
            "tags": "{{bundle.inputData.tags}}",
            "collection_id": "{{bundle.inputData.collection_id}}",
            "is_public": "{{bundle.inputData.is_public}}"
          }
        },
        "inputFields": [
          {
            "key": "url",
            "label": "URL",
            "type": "string",
            "required": true,
            "helpText": "The URL to bookmark"
          },
          {
            "key": "title",
            "label": "Title",
            "type": "string",
            "required": false,
            "helpText": "Optional title for the bookmark"
          },
          {
            "key": "description",
            "label": "Description",
            "type": "text",
            "required": false,
            "helpText": "Optional description"
          },
          {
            "key": "tags",
            "label": "Tags",
            "type": "string",
            "required": false,
            "helpText": "Comma-separated tags (e.g., 'javascript, tutorial, web')"
          },
          {
            "key": "collection_id",
            "label": "Collection",
            "type": "string",
            "required": false,
            "dynamic": "collection.id.name",
            "helpText": "Optional collection to add bookmark to"
          },
          {
            "key": "is_public",
            "label": "Public",
            "type": "boolean",
            "required": false,
            "default": "false",
            "helpText": "Make this bookmark publicly visible"
          }
        ],
        "sample": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "url": "https://example.com",
          "title": "Example Website",
          "description": "An example bookmark",
          "tags": ["example", "test"],
          "is_public": false,
          "created_at": "2025-01-01T00:00:00Z",
          "updated_at": "2025-01-01T00:00:00Z"
        }
      }
    },
    "add_tag": {
      "key": "add_tag",
      "noun": "Tag",
      "display": {
        "label": "Add Tag to Bookmark",
        "description": "Adds a tag to an existing bookmark."
      },
      "operation": {
        "perform": {
          "url": "https://hitv2.app/api/zapier/actions/add-tag",
          "method": "POST",
          "headers": {
            "Authorization": "Bearer {{bundle.authData.api_key}}:{{bundle.authData.secret_key}}",
            "Content-Type": "application/json"
          },
          "body": {
            "bookmark_id": "{{bundle.inputData.bookmark_id}}",
            "tag": "{{bundle.inputData.tag}}"
          }
        },
        "inputFields": [
          {
            "key": "bookmark_id",
            "label": "Bookmark",
            "type": "string",
            "required": true,
            "dynamic": "bookmark.id.title"
          },
          {
            "key": "tag",
            "label": "Tag",
            "type": "string",
            "required": true
          }
        ]
      }
    }
  },
  "searches": {
    "find_bookmark": {
      "key": "find_bookmark",
      "noun": "Bookmark",
      "display": {
        "label": "Find Bookmark",
        "description": "Finds a bookmark by URL or title."
      },
      "operation": {
        "perform": {
          "url": "https://hitv2.app/api/v1/bookmarks?search={{bundle.inputData.search}}",
          "method": "GET",
          "headers": {
            "Authorization": "Bearer {{bundle.authData.api_key}}:{{bundle.authData.secret_key}}"
          }
        },
        "inputFields": [
          {
            "key": "search",
            "label": "Search Query",
            "type": "string",
            "required": true,
            "helpText": "Search by URL or title"
          }
        ]
      }
    }
  }
}
